{% extends "layout.html" %}
{%block content%}
    <div class="jumbotron text-left" id="home-jumbotron">
      <div class="container text-white">
        <h1 class="display-4">Welcome to the site...</h1>
        <p class="lead">Hi, my name is Vincent Monteleone and this is my portfolio site</p>
        <hr class="my-4">
        <p>Below are some of my most recent projects. This site is itself one of my projects, having to learn how to code in HTML and CSS.</p>
        <a class="btn btn-info btn-lg" href="{{ url_for('about') }}"> Learn More</a>
      </div>
    </div>
    <section class="home-articles">
      <div class="container-fluid  text-center">
        <div class="row">
          {% for post in posts.items %}
          <div class="col-md-6" >
            <div class="card mb-4 shadow-sm">
              <div class="card-header">
                <img  src="{{ url_for('static', filename=post.type_image ) }}" class="project_type_image">
                <a class = "card-title" href="{{ url_for('project', project_id=post.project_id) }}">{{ post.project.title }}</a>
              </div>
              <div class="card-body">
                <p class= "card-text"> {{ post.content }} </p>
              </div>
              <div class="card-footer text-right">
                <small class="text-muted">Date posted: {{ post.project.date_posted.strftime('%m-%d-%Y') }}</small>
              </div>
              {% if post.author == current_user %}
                <div>
                  <a class="btn btn-secondary btn-sm mt-1 mb-1"href="{{ url_for('update_post', post_id=post.id) }}">Update Post</a>
                  <button type="button" class="btn btn-danger btn-sm m-1" data-toggle="modal" data-target="#deleteModal">Delete</button>
                </div>
              {% endif %}
            </div>
          </div>
          {% endfor %}
        </div>
      </div>
      </section>
      <div class="container mt-5 text-center">
        {% for page_num in posts.iter_pages(left_edge=1, right_edge=1, left_current=1, right_current=2) %}
          {% if page_num %}
            {% if posts.page == page_num %}
              <a class="btn btn-info mb-4" href="{{ url_for('homepage', page=page_num) }}">{{ page_num }}</a>
            {% else %}
              <a class="btn btn-outline-info mb-4" href="{{ url_for('homepage', page=page_num) }}">{{ page_num }}</a>
            {% endif %}
          {% else %}
            <small>...</small>
          {% endif %}
        {% endfor %}
      </div>
{%endblock content%}
